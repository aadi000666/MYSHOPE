<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aditya Pujan Bhandaar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Tiro+Devanagari+Hindi:wght@400&display=swap" rel="stylesheet">
    <style> -->
        body {
            font-family: 'Inter', sans-serif;
        }
        .hindi {
            font-family: 'Tiro Devanagari Hindi', serif;
        }
        .product-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .modal-backdrop {
            background-color: rgba(0,0,0,0.5);
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-orange-50">

    <header class="bg-white shadow-md sticky top-0 z-40">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-2xl font-bold text-orange-800">
                <span class="hindi">Aditya Pujan Bhandaar</span>
                <span class="block text-sm font-normal text-orange-600">Aditya Pujan Bhandaar</span>
            </div>
            <button id="cart-button" class="relative rounded-full p-2 hover:bg-orange-100 focus:outline-none focus:ring-2 focus:ring-orange-500">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-orange-800" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                </svg>
                <span id="cart-count" class="absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">0</span>
            </button>
        </div>
    </header>

    <main class="container mx-auto px-6 py-8">

        <section id="about" class="bg-white rounded-lg shadow-lg p-8 mb-12 border border-orange-200">
            <h1 class="text-4xl font-bold text-center text-orange-800 mb-4 hindi">|| श्री गणेशाय नमः ||</h1>
            <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">
                Welcome to Aditya Pujan Bhandaar, your trusted source for all authentic puja materials and spiritual items. We are dedicated to providing you with the highest quality products to enrich your worship and spiritual practices.
            </p>
            <div class="grid md:grid-cols-3 gap-8 text-center">
                <div class="p-4 rounded-lg bg-orange-50">
                    <h3 class="text-xl font-semibold text-orange-700 mb-2">Our Address</h3>
                    <p class="text-gray-700">329,Makka Purva Jail Road 'bahrich',<br> Bahraich, Uttar Pradesh - 271801</p>
                </div>
                <div class="p-4 rounded-lg bg-orange-50">
                    <h3 class="text-xl font-semibold text-orange-700 mb-2">Contact Us</h3>
                    <p class="text-gray-700"><strong>Phone:</strong> +91 6386159377<br><strong>Email:</strong>adityamaurya00599@gmail.com</p>
                </div>
                <div class="p-4 rounded-lg bg-orange-50">
                    <h3 class="text-xl font-semibold text-orange-700 mb-2">Timings</h3>
                    <p class="text-gray-700">Monday - saturday<br>10:00 AM - 8:00 PM</p>
                </div>
            </div>
        </section>

        <section id="products">
            <h2 class="text-3xl font-bold text-center text-orange-800 mb-8">Our Products</h2>
            <div id="product-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                </div>
        </section>
    </main>

    <div id="cart-modal" class="modal-backdrop fixed inset-0 flex items-center justify-center hidden z-50">
        <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-lg m-4 transform scale-95">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-2xl font-semibold text-gray-800">Your Cart</h3>
                <button id="close-cart" class="text-gray-500 hover:text-gray-800">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div id="cart-items-container" class="p-6 max-h-96 overflow-y-auto">
                 <p id="empty-cart-message" class="text-gray-500 text-center">Your cart is empty.</p>
            </div>
            <div class="p-4 bg-gray-50 rounded-b-lg">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-lg font-semibold text-gray-800">Total:</span>
                    <span id="cart-total" class="text-xl font-bold text-orange-700">₹0.00</span>
                </div>
                <button id="checkout-button" class="w-full bg-orange-600 text-white py-3 rounded-lg font-semibold hover:bg-orange-700 focus:outline-none focus:ring-4 focus:ring-orange-300 disabled:bg-gray-400 disabled:cursor-not-allowed">
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </div>

    <div id="checkout-modal" class="modal-backdrop fixed inset-0 flex items-center justify-center hidden z-50">
        <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-lg m-4 transform scale-95">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-2xl font-semibold text-gray-800">Checkout</h3>
                 <button id="close-checkout" class="text-gray-500 hover:text-gray-800">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div class="p-6">
                <div id="order-summary" class="mb-6">
                    <h4 class="text-lg font-semibold mb-2 text-gray-700">Order Summary</h4>
                    <div id="summary-items" class="text-sm max-h-32 overflow-y-auto pr-2 border-b pb-2 mb-2"></div>
                    <div class="flex justify-between font-bold text-lg">
                        <span>Total:</span>
                        <span id="summary-total"></span>
                    </div>
                </div>
                <form id="checkout-form">
                    <div class="space-y-4">
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700">Full Name</label>
                            <input type="text" id="name" name="name" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500">
                        </div>
                        <div>
                            <label for="phone" class="block text-sm font-medium text-gray-700">Phone Number (for notification)</label>
                            <input type="tel" id="phone" name="phone" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500">
                        </div>
                        <div>
                            <label for="address" class="block text-sm font-medium text-gray-700">Delivery Address</label>
                            <textarea id="address" name="address" rows="3" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500"></textarea>
                        </div>
                        <button type="submit" id="pay-button" class="w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 focus:outline-none focus:ring-4 focus:ring-green-300">
                            Proceed to Pay
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="qr-payment-modal" class="modal-backdrop fixed inset-0 flex items-center justify-center hidden z-50">
        <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-sm m-4 text-center p-8 transform scale-95">
             <div class="flex justify-end -mt-4 -mr-4">
                 <button id="close-qr" class="text-gray-500 hover:text-gray-800">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <h3 class="text-2xl font-bold text-gray-800">Scan to Pay with UPI</h3>
            <p class="text-gray-600 mt-2">Use any UPI app like Google Pay, PhonePe, Paytm, etc.</p>
            <img id="qr-code-image" src="aadiQr.png" alt="UPI QR Code" class="mx-auto my-4 border-4 border-orange-200 rounded-lg">
            <p class="text-lg text-gray-700">Amount to Pay:</p>
            <p id="qr-amount" class="text-4xl font-extrabold text-orange-700 mb-6">₹0.00</p>
            <button id="confirm-payment-button" class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300">
                Confirm Payment
            </button>
        </div>
    </div>
    <div id="confirmation-modal" class="modal-backdrop fixed inset-0 flex items-center justify-center hidden z-50">
        <div class="modal-content bg-white rounded-lg shadow-xl p-8 text-center max-w-sm m-4 transform scale-95">
            <div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4">
                <svg class="h-10 w-10 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-800">Transaction Successful!</h3>
            <p class="text-gray-600 mt-2">Thank you for your purchase. Your order will be delivered shortly.</p>
            <button id="close-confirmation" class="mt-6 w-full bg-orange-600 text-white py-2 rounded-lg font-semibold hover:bg-orange-700">
                Close
            </button>
        </div>
    </div>
    <div id="failure-modal" class="modal-backdrop fixed inset-0 flex items-center justify-center hidden z-50">
        <div class="modal-content bg-white rounded-lg shadow-xl p-8 text-center max-w-sm m-4 transform scale-95">
            <div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4">
                 <svg class="h-10 w-10 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                     <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                 </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-800">Transaction Failed</h3>
            <p class="text-gray-600 mt-2">We were unable to process your payment. Please try again.</p>
            <button id="try-again-button" class="mt-6 w-full bg-orange-600 text-white py-2 rounded-lg font-semibold hover:bg-orange-700">
                Try Again
            </button>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const products = [
                { id: 1, name: 'Incense Sticks', hindiName: 'AgrBatti', price: 50.00, image: 'Screenshot 2025-11-13 180604.png' },
                { id: 2, name: 'Clay Diyas (Set of 12)', hindiName: 'Miiti Ke Diye', price: 120.00, image: 'Screenshot 2025-11-13 180623.png' },
                { id: 3, name: 'Ganesha Idol', hindiName: 'Ganeshji Murti', price: 750.00, image: 'Screenshot 2025-11-13 180708.png' },
                { id: 4, name: 'Puja Thali Set', hindiName: 'Puja Thali Set', price: 450.00, image: 'fullSet.png' },
                { id: 5, name: 'Camphor (Kapur)', hindiName: 'Kapoor', price: 80.00, image: 'Screenshot 2025-11-13 180734.png' },
                { id: 6, name: 'Sandalwood ', hindiName: 'ChanDan ', price: 150.00, image: 'Screenshot 2025-11-13 180750.png' },
                { id: 7, name: 'Holy Water (Gangajal)', hindiName: 'Gangajal', price: 45.00, image: 'Screenshot 2025-11-13 180811.png' },
                { id: 8, name: 'Sacred Thread (Moli)', hindiName: 'Mouli', price: 30.00, image: 'Screenshot 2025-11-13 180826.png' },
                { id: 8, name: 'FullSet Puja(AllItemAreHere)', hindiName: 'Thali Set', price: 150.00, image: 'fullSet.png' },
            ];

            let cart = [];

            
            const productList = document.getElementById('product-list');
            const cartButton = document.getElementById('cart-button');
            const cartCountEl = document.getElementById('cart-count');
            
           
            const cartModal = document.getElementById('cart-modal');
            const closeCartButton = document.getElementById('close-cart');
            const cartItemsContainer = document.getElementById('cart-items-container');
            const cartTotalEl = document.getElementById('cart-total');
            const checkoutButton = document.getElementById('checkout-button');
            const emptyCartMessage = document.getElementById('empty-cart-message');

          
            const checkoutModal = document.getElementById('checkout-modal');
            const closeCheckoutButton = document.getElementById('close-checkout');
            const checkoutForm = document.getElementById('checkout-form');
            const orderSummaryItems = document.getElementById('summary-items');
            const orderSummaryTotal = document.getElementById('summary-total');

            const qrPaymentModal = document.getElementById('qr-payment-modal');
            const closeQrButton = document.getElementById('close-qr');
            const qrAmountEl = document.getElementById('qr-amount');
            const confirmPaymentButton = document.getElementById('confirm-payment-button');

            const confirmationModal = document.getElementById('confirmation-modal');
            const closeConfirmationButton = document.getElementById('close-confirmation');

     
            const failureModal = document.getElementById('failure-modal');
            const tryAgainButton = document.getElementById('try-again-button');


            const openModal = (modal) => {
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.querySelector('.modal-content').classList.remove('scale-95');
                    modal.querySelector('.modal-content').classList.add('scale-100');
                }, 10);
            };

            const closeModal = (modal) => {
                modal.querySelector('.modal-content').classList.remove('scale-100');
                modal.querySelector('.modal-content').classList.add('scale-95');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            };

         
            function renderProducts() {
                productList.innerHTML = '';
                products.forEach(product => {
                    const productEl = document.createElement('div');
                    productEl.className = 'product-card bg-white rounded-lg shadow-md overflow-hidden border border-orange-100';
                    productEl.innerHTML = `
                        <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover">
                        <div class="p-4">
                            <h3 class="text-lg font-semibold text-gray-800">${product.name}</h3>
                            <p class="text-sm text-gray-500 hindi">${product.hindiName}</p>
                            <p class="text-xl font-bold text-orange-600 mt-2">₹${product.price.toFixed(2)}</p>
                            <button data-id="${product.id}" class="add-to-cart-btn mt-4 w-full bg-orange-500 text-white py-2 rounded-lg font-semibold hover:bg-orange-600 focus:outline-none focus:ring-4 focus:ring-orange-300">
                                Add to Cart
                            </button>
                        </div>
                    `;
                    productList.appendChild(productEl);
                });
            }

            function addToCart(productId) {
                const product = products.find(p => p.id === productId);
                const cartItem = cart.find(item => item.id === productId);
                if (cartItem) {
                    cartItem.quantity++;
                } else {
                    cart.push({ ...product, quantity: 1 });
                }
                updateCart();
            }
            
            function updateCartQuantity(productId, newQuantity) {
                 const cartItem = cart.find(item => item.id === productId);
                 if (cartItem) {
                     if (newQuantity > 0) {
                         cartItem.quantity = newQuantity;
                     } else {
                         cart = cart.filter(item => item.id !== productId);
                     }
                 }
                 updateCart();
            }
            
            function removeFromCart(productId) {
                 cart = cart.filter(item => item.id !== productId);
                 updateCart();
            }

            function updateCart() {
                renderCartItems();
                updateCartTotal();
                updateCartCount();
                checkoutButton.disabled = cart.length === 0;
                emptyCartMessage.classList.toggle('hidden', cart.length > 0);
            }

            function renderCartItems() {
                cartItemsContainer.innerHTML = '';
                if(cart.length === 0) {
                    cartItemsContainer.appendChild(emptyCartMessage);
                    return;
                }
                cart.forEach(item => {
                    const itemEl = document.createElement('div');
                    itemEl.className = 'flex justify-between items-center py-3 border-b';
                    itemEl.innerHTML = `
                        <div class="flex items-center space-x-4">
                            <img src="${item.image}" alt="${item.name}" class="w-16 h-16 rounded-md object-cover">
                            <div>
                                <h4 class="font-semibold text-gray-800">${item.name}</h4>
                                <p class="text-sm text-gray-500">₹${item.price.toFixed(2)}</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <input type="number" min="1" value="${item.quantity}" data-id="${item.id}" class="quantity-input w-16 text-center border rounded-md p-1">
                            <button data-id="${item.id}" class="remove-item-btn text-red-500 hover:text-red-700">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg>
                            </button>
                        </div>
                    `;
                    cartItemsContainer.appendChild(itemEl);
                });
            }

            function getCartTotal() {
                return cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
            }

            function updateCartTotal() {
                const total = getCartTotal();
                cartTotalEl.textContent = `₹${total.toFixed(2)}`;
            }

            function updateCartCount() {
                const count = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCountEl.textContent = count;
                cartCountEl.classList.toggle('hidden', count === 0);
            }
            
           
            function showCheckout() {
                closeModal(cartModal);
                renderOrderSummary();
                openModal(checkoutModal);
            }
            
            function renderOrderSummary() {
                orderSummaryItems.innerHTML = '';
                cart.forEach(item => {
                    const li = document.createElement('div');
                    li.className = 'flex justify-between text-gray-600 mb-1';
                    li.innerHTML = `
                        <span>${item.name} x ${item.quantity}</span>
                        <span>₹${(item.price * item.quantity).toFixed(2)}</span>
                    `;
                    orderSummaryItems.appendChild(li);
                });
                const total = getCartTotal();
                orderSummaryTotal.textContent = `₹${total.toFixed(2)}`;
            }

          
            function handleCheckoutSubmit(event) {
                event.preventDefault();
                const total = getCartTotal();
                qrAmountEl.textContent = `₹${total.toFixed(2)}`;
                closeModal(checkoutModal);
                openModal(qrPaymentModal);
            }
            
            function handlePaymentConfirmation() {
                confirmPaymentButton.disabled = true;
                confirmPaymentButton.innerHTML = `
                    <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white inline-block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    Verifying...
                `;

                
                setTimeout(() => {
                    const isSuccess = Math.random() < 0.8; 
                    closeModal(qrPaymentModal);

                    if (isSuccess) {
                        
                        sendOrderNotification();
                        openModal(confirmationModal);
                        
                        
                        cart = [];
                        updateCart();
                        checkoutForm.reset();
                    } else {
                       
                        openModal(failureModal);
                    }
                  
                    confirmPaymentButton.disabled = false;
                    confirmPaymentButton.innerHTML = 'Confirm Payment';
                }, 2000);
            }

           
            function sendOrderNotification() {
                const customerName = document.getElementById('name').value;
                const customerPhone = document.getElementById('phone').value;
                const customerAddress = document.getElementById('address').value;
                const total = getCartTotal();

                let itemsSummary = cart.map(item => 
                    `- ${item.name} (x${item.quantity}) - ₹${(item.price * item.quantity).toFixed(2)}`
                ).join('\n');

                const message = `
=========================================
      ** NEW ORDER NOTIFICATION **
=========================================
Date: ${new Date().toLocaleString('en-IN')}

CUSTOMER DETAILS:
- Name: ${customerName}
- Phone/Email: ${customerPhone}
- Address: ${customerAddress}

ORDER SUMMARY:
${itemsSummary}

-----------------------------------------
TOTAL AMOUNT: ₹${total.toFixed(2)}
PAYMENT STATUS: PAID (via QR)
-----------------------------------------
                `;

                console.log("--- SIMULATING BACKEND NOTIFICATION ---");
                console.log("In a real application, the following data would be sent to a server, which would then send an SMS or email.");
                console.log(message);
            }
            
         
            productList.addEventListener('click', (e) => {
                if (e.target.classList.contains('add-to-cart-btn')) {
                    const id = parseInt(e.target.dataset.id);
                    addToCart(id);
                }
            });

            cartItemsContainer.addEventListener('change', (e) => {
                if(e.target.classList.contains('quantity-input')) {
                    const id = parseInt(e.target.dataset.id);
                    const quantity = parseInt(e.target.value);
                    updateCartQuantity(id, quantity);
                }
            });

            cartItemsContainer.addEventListener('click', (e) => {
                if(e.target.closest('.remove-item-btn')) {
                    const id = parseInt(e.target.closest('.remove-item-btn').dataset.id);
                    removeFromCart(id);
                }
            });

            
            cartButton.addEventListener('click', () => openModal(cartModal));
            closeCartButton.addEventListener('click', () => closeModal(cartModal));
            
            checkoutButton.addEventListener('click', showCheckout);
            closeCheckoutButton.addEventListener('click', () => closeModal(checkoutModal));

            checkoutForm.addEventListener('submit', handleCheckoutSubmit);
            
            closeQrButton.addEventListener('click', () => closeModal(qrPaymentModal));
            confirmPaymentButton.addEventListener('click', handlePaymentConfirmation);
            
            closeConfirmationButton.addEventListener('click', () => closeModal(confirmationModal));

            tryAgainButton.addEventListener('click', () => {
                closeModal(failureModal);
                openModal(qrPaymentModal);
            });
            [cartModal, checkoutModal, qrPaymentModal, confirmationModal, failureModal].forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal(modal);
                    }
                });
            });
            renderProducts();
            updateCart();
        });
    
    </script>
</body>
</html>